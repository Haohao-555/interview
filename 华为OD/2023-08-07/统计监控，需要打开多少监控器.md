# 统计监控，需要打开多少监控器

## 一、题目描述

在一长方形停车场内，每个车位上方都有对应监控器，当且仅当在当前车位或者前后左右四个方向任意一个车位范围停车时，监控器才需
要打开，给出某一时刻停车场的停车分布，请统计最少需要打开多少个监控器。

## 二、输入

第一行输入m，n表示长宽满足1< m，n <= 20;后面输入m 行每行有个0或1的整数，整数间使用一个空格隔开，表示该行已停车情况，其中 0 表示空位，1 表示已停。

## 三、输出

最少需要打开多少台监控器

## 四、示例

```
3 3
0 0 0
0 1 0
0 0 0

// 输出
5
```

```
3 3
1 0 0
0 1 0
0 0 0

// 输出
6
```

## 五、题目理解

遍历二维数组，遍历到当前位置，如果起四个方向（上下左右）和自身位置上对应数组的值为1（五个位置，只要有一个1），则要进行 +1。上限最大值为二维数组的元素个数

## 六、解题关键

第一点：已知一个位置坐标，推算出其他四个方位的位置坐标。 如：知道坐标（x, y） 则其他四个方向的坐标是多少，或者八个方向的坐标又是多少

| (0, 0)     | (0, 1)     | (0, 2)     |
| ---------- | ---------- | ---------- |
| **(1, 0)** | **(1, 1)** | **(1, 2)** |
| **(2, 0)** | **(2, 1)** | **(2, 2)** |

假设 （1， 1） 代表上述的 （x, y） 由此得出其他八个方向的坐标为：

| (x - 1, y - 1)     | (x - 1, y)     | (x - 1, y + 1)     |
| ------------------ | -------------- | ------------------ |
| **(x, y - 1)**     | **(x, y)**     | **(x, y + 1)**     |
| **(x + 1, y - 1)** | **(x + 1, y)** | **(x + 1, y + 1)** |

第二点：在获取起上下左右方向坐标时，注意二维数组边界的问题，避免越界。

## 七、解题

```javascript
const grid3 = [
    [0, 1, 0],
    [1, 0, 1],
    [1, 1, 0]
]
const grid2 = [
    [0, 0, 0],
    [0, 1, 0],
    [0, 0, 0]
]
const grid1 = [
    [1, 0, 0],
    [0, 1, 0],
    [0, 0, 0]
]
const test = (grid) => {
   const row = grid.length;
   const col = grid[0].length;

   let sum = 0;
   for (let i = 0; i < row; i++) {
    for (let j = 0; j < col; j++) {

        const top = i >= 1 && grid[i - 1][j] == 1;
        const bottom = i < row - 1 && grid[i + 1][j] == 1;
        const left = j >= 1 && grid[i][j - 1] == 1;
        const right = j < col - 1 && grid[i][j + 1] == 1;

        if (top || bottom || left || right || grid[i][j] == 1) {
            ++sum;
        }
    }
   }
   return sum;
}

console.log(test(grid1)) // 6
console.log(test(grid2)) // 5
console.log(test(grid3)) // 9
```


